(this.webpackJsonpreactjournal=this.webpackJsonpreactjournal||[]).push([[0],{17:function(e,t,n){},24:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(18),a=n.n(r),o=n(3),i=n(5),l=n(2),j=(n(24),n(0)),d=function(e){var t=e.clearUser,n=e.isAuthenticated,c=Object(l.f)();return Object(j.jsxs)("ul",{className:"navbar",children:[Object(j.jsx)("li",{className:"navbar__item",children:Object(j.jsx)(o.b,{className:"navbar_link",to:"/reactjournal",children:"About Me"})}),Object(j.jsx)("li",{className:"navbar__item",children:Object(j.jsx)(o.b,{className:"navbar_link",to:"/journal",children:"Journal"})}),Object(j.jsx)("li",{className:"navbar__item",children:Object(j.jsx)(o.b,{className:"navbar_link",to:"/messages",children:"Messages"})}),n?Object(j.jsx)("li",{className:"navbar__item",children:Object(j.jsx)("span",{className:"navbar_link",onClick:function(){t(),c.push("/")},children:" Logout "})}):Object(j.jsx)("li",{className:"navbar__item",children:Object(j.jsx)(o.b,{className:"navbar_link",to:"/login",children:"Login"})})]})},u=n.p+"static/media/Logan.fc54d648.jpg",h=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"statement",children:[Object(j.jsxs)("section",{className:"personal",children:[Object(j.jsx)("h2",{children:"Future Web Dev"}),Object(j.jsx)("p",{children:"I am currently enrolled in a C# focused web development bootcamp hosted by Nashville Software School"})]}),Object(j.jsx)("section",{className:"personal",children:Object(j.jsx)("picture",{children:Object(j.jsx)("img",{className:"photo",src:u,alt:"Headshot of Logan"})})})]})})},b=function(e){var t=e.entry,n=e.deletePost;return Object(j.jsxs)("article",{className:"journal-card",children:[Object(j.jsx)("h3",{className:"journal-title",children:t.title}),Object(j.jsxs)("p",{className:"journal-date",children:[t.date,"   ",t.mood.mood]}),Object(j.jsx)("p",{className:"journal-entry",children:t.description}),Object(j.jsxs)("p",{className:"journal-tags",children:["Tags:",t.technologyTag]}),Object(j.jsx)(o.b,{to:"/journal/".concat(t.id,"/edit"),children:Object(j.jsx)("button",{children:"Edit"})}),Object(j.jsx)("button",{type:"button",onClick:function(){return n(t.id)},children:"Delete"})]})},m="http://localhost:8088",O=[],f=function(){return fetch("".concat(m,"/entries?_expand=user&_expand=mood")).then((function(e){return e.json()})).then((function(e){return O=e.reverse(),console.log(O),O}))},x=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(l.f)(),a=function(e){var t;(t=e,fetch("".concat(m,"/entries/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then(f())).then((function(){return f().then(s)}))};return Object(c.useEffect)((function(){f().then((function(e){s(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("section",{className:"section-content",children:Object(j.jsx)("button",{type:"button",className:"btn",onClick:function(){r.push("/journal/create")},children:"Create entry"})}),Object(j.jsx)("div",{className:"entry-cards",children:n.map((function(e){return Object(j.jsx)(b,{entry:e,deletePost:a},e.id)}))})]})},p=n(11),g=function(){return fetch("".concat("http://localhost:8088","/moods")).then((function(e){return e.json()}))},N=function(){var e=Object(c.useState)({title:"",date:"",description:"",technologyTag:"",moodId:0,userId:1}),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),a=Object(i.a)(r,2),o=(a[0],a[1],Object(c.useState)([])),d=Object(i.a)(o,2),u=d[0],h=d[1],b=Object(l.f)(),O=function(e){var t=Object(p.a)({},n),c=e.target.value;e.target.id.includes("Id")&&(c=parseInt(c)),t[e.target.id]=c,s(t)};Object(c.useEffect)((function(){g().then((function(e){h(e)}))}),[]);return Object(j.jsxs)("form",{className:"EntryForm",children:[Object(j.jsx)("h2",{className:"EntryForm__Title",children:"New Journal Entry"}),Object(j.jsx)("fieldset",{children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"title",children:"Entry Title:"}),Object(j.jsx)("input",{type:"text",id:"title",onChange:O,required:!0,autoFocus:!0,className:"form-control",placeholder:"Title",value:n.title})]})}),Object(j.jsx)("fieldset",{children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"technologyTag",children:"Tech Tags:"}),Object(j.jsx)("input",{type:"text",id:"technologyTag",onChange:O,required:!0,autoFocus:!0,className:"form-control",placeholder:"TechTags",value:n.technologyTag})]})}),Object(j.jsx)("fieldset",{children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"moodId",children:"How are you feeling: "}),Object(j.jsxs)("select",{value:n.moodId,name:"moodId",id:"moodId",onChange:O,className:"form-control",children:[Object(j.jsx)("option",{value:"0",children:"Select a mood"}),u.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.mood},e.id)}))]})]})}),Object(j.jsx)("fieldset",{children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(j.jsx)("textarea",{type:"text",id:"description",onChange:O,required:!0,autoFocus:!0,className:"form-control",placeholder:"Description",value:n.description})]})}),Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(e){var t;e.preventDefault(),0===n.moodId?window.alert("Please select a Mood"):(t=n,fetch("".concat(m,"/entries"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then(f())).then((function(){return b.push("/journal")}))},children:"Save Entry"})]})},v=function(){var e=Object(c.useState)({title:"",date:"",description:"",technologyTag:"",moodId:0,userId:1}),t=Object(i.a)(e,2),n=t[0],s=t[1];console.log("entryedit");var r=Object(c.useState)(!1),a=Object(i.a)(r,2),o=a[0],d=a[1],u=Object(c.useState)([]),h=Object(i.a)(u,2),b=h[0],O=h[1],x=Object(l.g)().entryId,N=Object(l.f)();Object(c.useEffect)((function(){g().then((function(e){O(e)}))}),[]);var v=function(e){var t=Object(p.a)({},n);t[e.target.id]=e.target.value,s(t)};return Object(c.useEffect)((function(){var e;(e=x,fetch("".concat(m,"/entries/").concat(e)).then((function(e){return e.json()}))).then((function(e){s(e),d(!1)}))}),[x]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("form",{children:Object(j.jsxs)("fieldset",{children:[Object(j.jsxs)("div",{className:"formgrid",children:[Object(j.jsx)("input",{type:"text",required:!0,className:"form-control",onChange:v,id:"title",value:n.title}),Object(j.jsx)("label",{htmlFor:"title",children:"Title"}),Object(j.jsx)("select",{value:n.moodId,name:"moodId",id:"moodId",onChange:v,className:"form-control",children:b.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.mood},e.id)}))}),Object(j.jsx)("label",{htmlFor:"moodId",children:"Mood"}),Object(j.jsx)("label",{htmlFor:"description",children:"Description"}),Object(j.jsx)("textarea",{type:"text",required:!0,className:"form-control",onChange:v,id:"description",value:n.description})]}),Object(j.jsx)("div",{className:"alignRight",children:Object(j.jsx)("button",{type:"button",disabled:o,onClick:function(e){e.preventDefault(),d(!0);var t,c={id:x,title:n.title,date:n.date,description:n.description,technologyTag:n.technologyTag,moodId:n.moodId,userId:n.userId};(t=c,fetch("".concat(m,"/entries/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then(f)).then((function(){return N.push("/journal")}))},className:"btn btn-primary",children:"Submit"})})]})})})},y=(n(17),"http://localhost:8088"),S=function(e){var t=e.setAuthUser,n=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useRef)(),o=Object(l.f)();return Object(j.jsxs)("main",{style:{textAlign:"center"},children:[Object(j.jsxs)("dialog",{className:"dialog dialog--password",ref:a,children:[Object(j.jsx)("div",{children:"Account with that email address already exists"}),Object(j.jsx)("button",{className:"button--close",onClick:function(e){return a.current.close()},children:"Close"})]}),Object(j.jsxs)("form",{className:"form--login",onSubmit:function(e){e.preventDefault(),fetch("".concat(y,"/user?email=").concat(r.current.value)).then((function(e){return e.json()})).then((function(e){return!!e.length})).then((function(e){e?a.current.showModal():fetch("".concat(y,"/user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.current.value,name:"".concat(n.current.value," ").concat(s.current.value)})}).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("id")&&(t(e),o.push("/"))}))}))},children:[Object(j.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Please Register for Daily Journal"}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"firstName",children:" First Name "}),Object(j.jsx)("input",{ref:n,type:"text",name:"firstName",className:"form-control",placeholder:"First name",required:!0,autoFocus:!0})]}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"lastName",children:" Last Name "}),Object(j.jsx)("input",{ref:s,type:"text",name:"lastName",className:"form-control",placeholder:"Last name",required:!0})]}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"inputEmail",children:" Email address "}),Object(j.jsx)("input",{ref:r,type:"email",name:"email",className:"form-control",placeholder:"Email address",required:!0})]}),Object(j.jsx)("fieldset",{children:Object(j.jsx)("button",{type:"submit",children:" Sign in "})})]})]})},_=function(e){var t=e.setAuthUser,n=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(l.f)();return Object(j.jsxs)("main",{className:"container--login",children:[Object(j.jsxs)("dialog",{className:"dialog dialog--auth",ref:s,children:[Object(j.jsx)("div",{children:"User does not exist"}),Object(j.jsx)("button",{className:"button--close",onClick:function(e){return s.current.close()},children:"Close"})]}),Object(j.jsx)("section",{children:Object(j.jsxs)("form",{className:"form--login",onSubmit:function(e){e.preventDefault(),fetch("".concat("http://localhost:8088","/users?email=").concat(n.current.value)).then((function(e){return e.json()})).then((function(e){return!!e.length&&e[0]})).then((function(e){e?(t(e),r.push("/")):s.current.showModal()}))},children:[Object(j.jsx)("h2",{children:"Please sign in"}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"inputEmail",children:" Email address "}),Object(j.jsx)("input",{ref:n,type:"email",id:"email",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0})]}),Object(j.jsx)("fieldset",{children:Object(j.jsx)("button",{type:"submit",children:"Sign in"})})]})}),Object(j.jsx)("section",{className:"link--register",children:Object(j.jsx)(o.b,{to:"/register",children:"Not a member yet?"})})]})},F=function(e){var t=e.message,n=e.deleteMessage;return Object(j.jsxs)("article",{className:"message-card",children:[Object(j.jsx)("h3",{className:"message-title",children:t.title}),Object(j.jsx)("p",{className:"message-date",children:t.date}),Object(j.jsx)("p",{className:"message-message",children:t.message}),Object(j.jsx)(o.b,{to:"/message/".concat(t.id,"/edit"),children:Object(j.jsx)("button",{children:"Edit"})}),Object(j.jsx)("button",{type:"button",onClick:function(){return n(t.id)},children:"Delete"})]})},I="http://localhost:8088",T=[],C=function(){return fetch("".concat(I,"/messages?_expand=user")).then((function(e){return e.json()})).then((function(e){return T=e.reverse(),console.log(T),T}))},E=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(l.f)(),a=function(e){var t;(t=e,fetch("".concat(I,"/messages/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then(C)).then((function(){return C().then(s)}))};return Object(c.useEffect)((function(){C().then((function(e){s(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("section",{className:"section-content",children:Object(j.jsx)("button",{type:"button",className:"btn",onClick:function(){r.push("/message/create")},children:"Create message"})}),Object(j.jsx)("div",{className:"message-cards",children:n.map((function(e){return Object(j.jsx)(F,{message:e,deletePost:a},e.id)}))})]})},k=function(e){var t=e.setAuthUser,n=e.isAuthenticated;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.b,{path:"/login",children:Object(j.jsx)(_,{setAuthUser:t})}),Object(j.jsx)(l.b,{path:"/register",children:Object(j.jsx)(S,{setAuthUser:t})}),Object(j.jsx)(l.b,{exact:!0,path:"/reactjournal/",children:Object(j.jsx)(h,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/journal",children:n?Object(j.jsx)(x,{}):Object(j.jsx)(l.a,{to:"/login"})}),Object(j.jsx)(l.b,{exact:!0,path:"/journal/create",children:Object(j.jsx)(N,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/journal/:entryId(\\d+)/edit",children:Object(j.jsx)(v,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/messages",children:n?Object(j.jsx)(E,{}):Object(j.jsx)(l.a,{to:"/login"})})]})},D=(n(31),function(){return Object(j.jsx)("div",{className:"footer",children:"\xa9 Logan Demmy 2021"})}),w=function(){var e=Object(c.useState)(null!==sessionStorage.getItem("journal__user")),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"header",children:"Daily Journal"}),Object(j.jsx)(d,{clearUser:function(){sessionStorage.clear(),s(null!==sessionStorage.getItem("journal__user"))},isAuthenticated:n}),Object(j.jsx)(k,{setAuthUser:function(e){sessionStorage.setItem("journal__user",JSON.stringify(e)),s(null!==sessionStorage.getItem("journal__user"))},isAuthenticated:n}),Object(j.jsx)(D,{})]})};n(32);a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(w,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.c321f27e.chunk.js.map